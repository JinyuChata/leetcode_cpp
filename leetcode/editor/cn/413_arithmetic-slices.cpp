//å¦‚æœä¸€ä¸ªæ•°åˆ—è‡³å°‘æœ‰ä¸‰ä¸ªå…ƒç´ ï¼Œå¹¶ä¸”ä»»æ„ä¸¤ä¸ªç›¸é‚»å…ƒç´ ä¹‹å·®ç›¸åŒï¼Œåˆ™ç§°è¯¥æ•°åˆ—ä¸ºç­‰å·®æ•°åˆ—ã€‚ 
//
// ä¾‹å¦‚ï¼Œä»¥ä¸‹æ•°åˆ—ä¸ºç­‰å·®æ•°åˆ—: 
//
// 
//1, 3, 5, 7, 9
//7, 7, 7, 7
//3, -1, -5, -9 
//
// ä»¥ä¸‹æ•°åˆ—ä¸æ˜¯ç­‰å·®æ•°åˆ—ã€‚ 
//
// 
//1, 1, 2, 5, 7 
//
// 
//
// æ•°ç»„ A åŒ…å« N ä¸ªæ•°ï¼Œä¸”ç´¢å¼•ä»0å¼€å§‹ã€‚æ•°ç»„ A çš„ä¸€ä¸ªå­æ•°ç»„åˆ’åˆ†ä¸ºæ•°ç»„ (P, Q)ï¼ŒP ä¸ Q æ˜¯æ•´æ•°ä¸”æ»¡è¶³ 0<=P<Q<N ã€‚ 
//
// å¦‚æœæ»¡è¶³ä»¥ä¸‹æ¡ä»¶ï¼Œåˆ™ç§°å­æ•°ç»„(P, Q)ä¸ºç­‰å·®æ•°ç»„ï¼š 
//
// å…ƒç´  A[P], A[p + 1], ..., A[Q - 1], A[Q] æ˜¯ç­‰å·®çš„ã€‚å¹¶ä¸” P + 1 < Q ã€‚ 
//
// å‡½æ•°è¦è¿”å›æ•°ç»„ A ä¸­æ‰€æœ‰ä¸ºç­‰å·®æ•°ç»„çš„å­æ•°ç»„ä¸ªæ•°ã€‚ 
//
// 
//
// ç¤ºä¾‹: 
//
// 
//A = [1, 2, 3, 4]
//
//è¿”å›: 3, A ä¸­æœ‰ä¸‰ä¸ªå­ç­‰å·®æ•°ç»„: [1, 2, 3], [2, 3, 4] ä»¥åŠè‡ªèº« [1, 2, 3, 4]ã€‚
// 
// Related Topics æ•°å­¦ åŠ¨æ€è§„åˆ’ 
// ğŸ‘ 242 ğŸ‘ 0

#include <bits/stdc++.h>
using namespace std;

//leetcode submit region begin(Prohibit modification and deletion)
class Solution {
public:
    int numberOfArithmeticSlices(vector<int>& nums) {
        int n = nums.size();
        vector<int> dp(n-1, 0);
        int last = 0;
        int res = 0;
        // åˆå§‹åŒ– dp[0] = dp[1] = 0
        for (int i = 2; i < n; i++) {
            if (nums[i] - nums[i-1] == nums[i-1] - nums[i-2]) {
                last = last + 1;
            } else {
                last = 0;
            }
            res += last;
        }
        return res;
    }
};
//leetcode submit region end(Prohibit modification and deletion)
